unit uPrincipal;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.StdCtrls, Vcl.ExtCtrls,
  Vcl.Imaging.pngimage, Vcl.Imaging.GIFImg, Vcl.MPlayer;

type
  TForm1 = class(TForm)
    Button1: TButton;
    Edit1: TEdit;
    Edit2: TEdit;
    Edit3: TEdit;
    Image2: TImage;
    Image3: TImage;
    Label1: TLabel;
    Label2: TLabel;
    procedure FormCreate(Sender: TObject);
    procedure Button1Click(Sender: TObject);
  private
    SaldoJogador: Double;
    SaldoBanca: Double;

    Procedure Jogar(Valor: Double);
    Procedure AtualizaSaldo(Valor: Double; Ganhou: Boolean);
  public
    { Public declarations }
  end;

var
  Form1: TForm1;

const ValorAposta = 10;

implementation

{$R *.dfm}

procedure TForm1.AtualizaSaldo(Valor: Double; Ganhou: Boolean);
begin
  if not Ganhou then
    Valor := Valor * -1;

  SaldoJogador := SaldoJogador + Valor;
  SaldoBanca := SaldoBanca - Valor;
end;

procedure TForm1.Button1Click(Sender: TObject);
begin
  Jogar(ValorAposta);
end;

procedure TForm1.FormCreate(Sender: TObject);
begin
  Randomize;
  SaldoJogador := 100;
  SaldoBanca := 0;

  label1.Caption := 'Saldo Jogador: R$'+FloatToStr(SaldoJogador);
  label2.Caption := 'Saldo Banca: R$'+FloatToStr(SaldoBanca);
end;

procedure TForm1.Jogar(Valor: Double);
var
  Sorteio1, Sorteio2, Sorteio3: Integer;
begin
  AtualizaSaldo(Valor, False);

  Sorteio1 := Random(4);
  Sorteio2 := Random(4);
  Sorteio3 := Random(4);

  Edit1.Text := IntToStr(Sorteio1);
  Edit2.Text := IntToStr(Sorteio2);
  Edit3.Text := IntToStr(Sorteio3);

  if (Sorteio1 = Sorteio2) and (Sorteio2 = Sorteio3) then
  begin
    if Sorteio1 in [0, 1] then
      AtualizaSaldo(Valor * 5, True);

    if Sorteio1 in [2, 3] then
      AtualizaSaldo(Valor * 7, True);

    if Sorteio1 in [4] then
      AtualizaSaldo(Valor * 10, True);
  end;

  if (Sorteio1 <> Sorteio2) and (Sorteio2 <> Sorteio3) then
    AtualizaSaldo(Valor, True);


  label1.Caption := 'Saldo Jogador: R$'+FloatToStr(SaldoJogador);
  label2.Caption := 'Saldo Banca: R$'+FloatToStr(SaldoBanca);
end;

end.
